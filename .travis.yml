# Install Dependencies
install:

do_test1: true
do_test2: false
do_test3: true
do_deploy: false

# multiple languages?
jobs:
  include:
    - stage: "Testing"
      if: do_test1
      name: "Backend Tests (Python)"
      language: python
      python: 3.8
      script:
      - python -c "print('Hi from Python!')"
      - cd backend
      - python -m py_compile *.py
      - python -c "print('Backend syntax correct')"
     #- python ./test.py 

    - stage: "Testing"
      if: do_test2
      name: "Frontend Tests (JS)"
      language: node_js
      node_js: 12
      script:
      - node -e "console.log('Hi from NodeJS!')"
      - cd frontend
      - yarn test
      
    - stage: "Even More Testing"
      if: do_test3
      name: "Other Tests"
      script:
      - echo "Running More Tests"
      
      # does not deploy because condition is false
    - stage: "Deploying"
      script: skip
      deploy: 
        provider: s3
        access_key_id: "YOUR AWS ACCESS KEY"
        secret_access_key: "YOUR AWS SECRET KEY"
        bucket: "S3 Bucket"
        skip_cleanup: true
        on: 
          condition: do_deploy

    
      
after_success:
  - echo 'Build Passed'
  
after_failure:
  - echo 'f'
